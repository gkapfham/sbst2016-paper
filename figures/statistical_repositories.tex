% vim: ft=tex
%!TEX root=sbst2016.tex

\begin{figure*}

  \begin{center}

    % SECTION: Define block styles

    \tikzstyle{repository} = [rectangle, draw, thick, double, fill=gray!10, text width=7em, text centered, rounded corners, minimum height=4em]
    \tikzstyle{repository-atdg} = [rectangle, draw, thick, double, fill=gray!30, text width=7em, text centered, rounded corners, minimum height=4em]
    \tikzstyle{repository-atsp} = [rectangle, draw, thick, double, fill=gray!60, text width=7em, text centered, rounded corners, minimum height=4em]
    \tikzstyle{report-atdg} = [rectangle, draw, thick, fill=gray!30, text width=7em, text centered, rounded corners, minimum height=4em]
    \tikzstyle{report-atsp} = [rectangle, draw, thick, fill=gray!60, text width=7em, text centered, rounded corners, minimum height=4em]

    % SECTION: Define the line styles

    \tikzstyle{line} = [draw, thick, -stealth', scale=8]

    \begin{tikzpicture}[node distance = 10em, auto]

      % SECTION: Create all of the nodes that will exist in the figure
      \node [repository] (sbst-analysis) {sbst-analysis \\ \vspace*{.25em}\faCode~in \faGithubAlt};
      \node [repository-atdg, right of=sbst-analysis, yshift=4em] (atdg-analysis) {atdg-analysis \\ \vspace*{.25em} \faCode~+~\faDatabase~in \faGit};
      \node [repository-atsp, right of=sbst-analysis, yshift=-4em] (atsp-analysis) {atsp-analysis \\ \vspace*{.25em} \faCode~+~\faDatabase~in \faGit};
      \node [report-atdg, right of=atdg-analysis] (atdg-report) {atdg-report \\ \vspace*{.25em} \faCode~in \faGit};
      \node [report-atsp, right of=atsp-analysis] (atsp-report) {atsp-report \\ \vspace*{.25em} \faCode~in \faGit};

      % SECTION: Create all of the paths between the nodes
      \path [line] (sbst-analysis) -- (atdg-analysis);
      \path [line] (sbst-analysis) -- (atsp-analysis);
      \path [line] (atdg-analysis) -- (atdg-report);
      \path [line] (atsp-analysis) -- (atsp-report);

    \end{tikzpicture}

  \end{center}

  \caption{Shared code repositories to support the analysis of data from experiments with search-based software testing
  tools.}~\label{fig:statistical_repositories}

\end{figure*}
